function filterTags(t){t=parseInt(t.find(":selected").attr("value"));t&&$.ajax({type:"GET",url:"/Item/GetThemeTags",data:{id:t},dataType:"json",contentType:"application/json; charset=utf-8",success:function(t){$("#checkboxes label").hide();for(var e=0;e<t.length;e++)$("#tag-input-id-"+t[e]).parent().show()},error:function(){alert("Error occured!!")}})}function filterProjects(t){t=parseInt(t.find(":selected").attr("value"));t&&$.ajax({type:"GET",url:"/Item/GetTeamProjects",data:{id:t},dataType:"json",contentType:"application/json; charset=utf-8",success:function(t){$("#project-selector option").hide();for(var e=0;e<t.length;e++)$("#project-selector option[value="+t[e]+"]").show()},error:function(){alert("Error occured!!")}})}$(document).ready(function(){$(":checkbox").change(function(){$(this).is(":checked")?$(this).attr("checked",!0):$(this).attr("checked",!1)}),filterTags($("#theme-selector")),filterProjects($("#team-selector")),$("#theme-selector").change(function(){filterTags($(this))}),$("#team-selector").change(function(){filterProjects($(this))})});var expanded=!1;function showCheckboxes(){var t=document.getElementById("checkboxes");expanded=expanded?!(t.style.display="none"):(t.style.display="block",!0)}function getThemes(){let n=[];return $(".theme").each(function(t,e){let o=[],c=[];var a={Id:$(e).find(".theme-id").first().val(),Name:$(e).find(".theme-name").first().val(),Image:""};$(e).find(".tag-checkbox").each(function(t,e){var a=$(e).find(".tag-checkbox-id").first().val(),n=$(e).find(".tag-checkbox-name").first().val(),e={TagId:a,Name:n,CheckedState:$(e).find(".tag-checkbox-state").first().is(":checked")};o.push(e);a={Text:n,Value:a};c.push(a)});a={Theme:a,TagCheckboxes:o,TagSelectList:c};n.push(a)}),n}function saveState(t){t=JSON.stringify(t);$.ajax({type:"POST",url:"/Theme/SaveThemesState",traditional:!0,data:t,contentType:"application/json; charset=utf-8",dataType:"json"})}function populateTagNameField(t){let e=parseInt(t.find(":selected").attr("value"));"newTag"==e&&(e=null),$.ajax({type:"GET",url:"/Tag/GetTagName",data:{id:e},contentType:"application/json; charset=utf-8",success:function(t){"newTag"==t?($("#tag-name-input").val(""),$("#tag-submit-button").val("Add"),$("#tag-delete-button").hide(),$("#tag-delete-button").prop("disabled",!0)):($("#tag-name-input").val(t),$("#tag-submit-button").val("Update"),$("#tag-delete-button").show(),$("#tag-submit-button").show(),$("#tag-delete-button").prop("disabled",!1)),$("#tag-submit-button").prop("disabled",!1)},error:function(t){console.log(t),alert("An error occurred!!!")}})}function updateTags(t){let e=t.closest(".modal-content").find("#tag-select-dropdown").first().find(":selected").attr("value");e="newTag"==e?0:parseInt(e);var a=t.closest(".modal-content").find("#tag-name-input").first().val(),t=t.val();$("#tag-select-dropdown").val(0),$("#tag-name-input").val(""),$.ajax({type:"GET",url:"/Tag/UpdateTag",data:{id:e,tagName:a,actionName:t},contentType:"application/json; charset=utf-8",success:function(e){var a=$("#tag-select-dropdown");$("#tag-select-dropdown option:gt(1)").remove();for(let t=0;t<e.length;t++)a.append($("<option></option>").attr("value",e[t].id).text(e[t].name))},error:function(t){console.log(t),alert("An error occurred!!!")}})}$(document).ready(function(){var e=document.getElementById("myModal"),t=document.getElementById("myBtn"),a=document.getElementsByClassName("close")[0];t.onclick=function(){event.preventDefault(),$("#tag-delete-button").hide(),$("#tag-submit-button").hide(),$("#tag-delete-button").prop("disabled",!0),$("#tag-submit-button").prop("disabled",!0),e.style.display="block",saveState(getThemes())},a.onclick=function(){e.style.display="none",$("#tag-delete-button").show(),$("#tag-submit-button").show(),$("#tag-delete-button").prop("disabled",!1),$("#tag-submit-button").prop("disabled",!1)},window.onclick=function(t){t.target==e&&(e.style.display="none",$("#tag-select-dropdown").val(0))},$("#tag-select-dropdown").change(function(){populateTagNameField($(this))}),$(".tag-modal-btn").click(function(){updateTags($(this))})}),$(document).ready(function(){const t=JSON.stringify({searchText:searchText="*",teams:teams=["*"],projects:projects=["*"],tags:tags=["item 10"],startDate:startDate="*",endDate:endDate="*"});$("#filters input:not(#text-search), #filters select").change(function(){alert("Handler for .change() called.")}),$("#filters #text-search").keypress(function(){$.ajax({type:"GET",url:"/Item/GetFilteredItems",data:{itemQueryJson:t},success:function(t){console.log(t)},error:function(){alert("Error occured!!")}})})});