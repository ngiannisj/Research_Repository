function filterTags(e){e=parseInt(e.find(":selected").attr("value"));e&&$.ajax({type:"GET",url:"/Item/GetThemeTags",data:{id:e},dataType:"json",contentType:"application/json; charset=utf-8",success:function(e){$("#checkboxes label").hide();for(var t=0;t<e.length;t++)$("#tag-input-id-"+e[t]).parent().show()},error:function(){alert("Error occured!!")}})}function filterProjects(e){e=parseInt(e.find(":selected").attr("value"));e&&$.ajax({type:"GET",url:"/Item/GetTeamProjects",data:{id:e},dataType:"json",contentType:"application/json; charset=utf-8",success:function(e){$("#project-selector option").hide();for(var t=0;t<e.length;t++)$("#project-selector option[value="+e[t]+"]").show()},error:function(){alert("Error occured!!")}})}$(document).ready(function(){$(":checkbox").change(function(){$(this).is(":checked")?$(this).attr("checked",!0):$(this).attr("checked",!1)}),filterTags($("#theme-selector")),filterProjects($("#team-selector")),$("#theme-selector").change(function(){filterTags($(this))}),$("#team-selector").change(function(){filterProjects($(this))})});var expanded=!1;function showCheckboxes(){var e=document.getElementById("checkboxes");expanded=expanded?!(e.style.display="none"):(e.style.display="block",!0)}function getThemes(){let n=[];return $(".theme").each(function(e,t){let o=[],c=[];var a={Id:$(t).find(".theme-id").first().val(),Name:$(t).find(".theme-name").first().val(),Image:""};$(t).find(".tag-checkbox").each(function(e,t){var a=$(t).find(".tag-checkbox-id").first().val(),n=$(t).find(".tag-checkbox-name").first().val(),t={TagId:a,Name:n,CheckedState:$(t).find(".tag-checkbox-state").first().is(":checked")};o.push(t);a={Text:n,Value:a};c.push(a)});a={Theme:a,TagCheckboxes:o,TagSelectList:c};n.push(a)}),n}function saveState(e){e=JSON.stringify(e);$.ajax({type:"POST",url:"/Theme/SaveThemesState",traditional:!0,data:e,contentType:"application/json; charset=utf-8",dataType:"json"})}function populateTagNameField(e){let t=parseInt(e.find(":selected").attr("value"));"newTag"==t&&(t=null),$.ajax({type:"GET",url:"/Tag/GetTagName",data:{id:t},contentType:"application/json; charset=utf-8",success:function(e){"newTag"==e?($("#tag-name-input").val(""),$("#tag-submit-button").val("Add"),$("#tag-delete-button").hide(),$("#tag-delete-button").prop("disabled",!0)):($("#tag-name-input").val(e),$("#tag-submit-button").val("Update"),$("#tag-delete-button").show(),$("#tag-delete-button").prop("disabled",!1)),$("#tag-name-input").show(),$("#tag-submit-button").show(),$("#tag-submit-button").prop("disabled",!1)},error:function(e){console.log(e),alert("An error occurred!!!")}})}function updateTags(e){let t=e.closest(".modal-content").find("#tag-select-dropdown").first().find(":selected").attr("value");t="newTag"==t?0:parseInt(t);var a=e.closest(".modal-content").find("#tag-name-input").first().val(),e=e.val();$("#tag-select-dropdown").val(0),$("#tag-name-input").val(""),$.ajax({type:"GET",url:"/Tag/UpdateTag",data:{id:t,tagName:a,actionName:e},contentType:"application/json; charset=utf-8",success:function(t){var a=$("#tag-select-dropdown");$("#tag-select-dropdown option:gt(1)").remove();for(let e=0;e<t.length;e++)a.append($("<option></option>").attr("value",t[e].id).text(t[e].name))},error:function(e){console.log(e),alert("An error occurred!!!")}})}function updateThemeTags(){$.ajax({type:"GET",url:"/Theme/UpdateThemeTags",contentType:"application/json; charset=utf-8",success:function(e){window.location.replace("../theme?redirect=True")},error:function(e){console.log(e),alert("An error occurred!!!")}})}$(document).ready(function(){var t=document.getElementById("myModal"),e=document.getElementById("myBtn"),a=document.getElementsByClassName("close")[0];e.onclick=function(){event.preventDefault(),$("#tag-name-input").hide(),$("#tag-delete-button").hide(),$("#tag-submit-button").hide(),$("#tag-delete-button").prop("disabled",!0),$("#tag-submit-button").prop("disabled",!0),t.style.display="block",saveState(getThemes())},a.onclick=function(){t.style.display="none",$("#tag-name-input").val(""),$("#tag-name-input").hide(),$("#tag-select-dropdown").val(0),$("#tag-delete-button").hide(),$("#tag-submit-button").hide(),$("#tag-delete-button").prop("disabled",!0),$("#tag-submit-button").prop("disabled",!0),updateThemeTags()},window.onclick=function(e){e.target==t&&(t.style.display="none",$("#tag-name-input").val(""),$("#tag-name-input").hide(),$("#tag-select-dropdown").val(0),$("#tag-delete-button").hide(),$("#tag-submit-button").hide(),$("#tag-delete-button").prop("disabled",!0),$("#tag-submit-button").prop("disabled",!0),updateThemeTags())},$("#tag-select-dropdown").change(function(){populateTagNameField($(this))}),$(".tag-modal-btn").click(function(){updateTags($(this))})}),$(document).ready(function(){const e=JSON.stringify({searchText:searchText="*",teams:teams=["*"],projects:projects=["*"],tags:tags=["item 10"],startDate:startDate="*",endDate:endDate="*"});$("#filters input:not(#text-search), #filters select").change(function(){alert("Handler for .change() called.")}),$("#filters #text-search").keypress(function(){$.ajax({type:"GET",url:"/Item/GetFilteredItems",data:{itemQueryJson:e},success:function(e){console.log(e)},error:function(){alert("Error occured!!")}})})});