function filterTags(t){t=parseInt(t.find(":selected").attr("value"));t&&$.ajax({type:"GET",url:"/Item/GetThemeTags",data:{id:t},dataType:"json",contentType:"application/json; charset=utf-8",success:function(t){$("#checkboxes label").hide();for(var e=0;e<t.length;e++)$("#tag-input-id-"+t[e]).parent().show()},error:function(){alert("Error occured!!")}})}function filterProjects(t){t=parseInt(t.find(":selected").attr("value"));t&&$.ajax({type:"GET",url:"/Item/GetTeamProjects",data:{id:t},dataType:"json",contentType:"application/json; charset=utf-8",success:function(t){$("#project-selector option").hide();for(var e=0;e<t.length;e++)$("#project-selector option[value="+t[e]+"]").show()},error:function(){alert("Error occured!!")}})}$(document).ready(function(){$(":checkbox").change(function(){$(this).is(":checked")?$(this).attr("checked",!0):$(this).attr("checked",!1)}),filterTags($("#theme-selector")),filterProjects($("#team-selector")),$("#theme-selector").change(function(){filterTags($(this))}),$("#team-selector").change(function(){filterProjects($(this))})});var expanded=!1;function showCheckboxes(){var t=document.getElementById("checkboxes");expanded=expanded?!(t.style.display="none"):(t.style.display="block",!0)}function getTeams(){let c=[];return $(".team").each(function(t,e){let a=[];const n=$(e).find(".team-id").first().val();var o=$(e).find(".team-name").first().val();$(e).find(".project").each(function(t,e){e={Id:$(e).find(".project-id").first().val(),Name:$(e).find(".project-name").first().val(),TeamId:n};a.push(e)});o={Id:n,Name:o,Projects:a};c.push(o)}),c}function saveState(t){t=JSON.stringify(t);$.ajax({type:"POST",url:"/Team/SaveTeamsState",traditional:!0,data:t,contentType:"application/json; charset=utf-8",dataType:"json"})}function updateProjects(t){const e=t.closest(".project-modal");var a=e.find("#project-id-modal-input").first().val();const n=e.find("#project-teamId-modal-input").first().val();var o=e.find("#project-name-modal-input").first().val(),t=t.val();$.ajax({type:"GET",url:"/Project/UpdateProject",data:{id:a,projectName:o,teamId:n,actionName:t},contentType:"application/json; charset=utf-8",success:function(t){updateTeamProjects(n)},error:function(t){console.log(t),alert("An error occurred!!!")}})}function updateTeamProjects(){$.ajax({type:"GET",url:"/Team/UpdateTeamProjects",contentType:"application/json; charset=utf-8",success:function(t){window.location.replace("../team?redirect=True")},error:function(t){console.log(t),alert("An error occurred!!!")}})}function openProjectModal(t){$("#project-delete-button").show().prop("disabled",!1),$("#project-submit-button").val("Update");var e=$(t).siblings(".project-name").first().val(),a=$(t).siblings(".project-id").first().val(),t=$(t).closest(".team").find(".team-id").first().val();$("#project-name-modal-input").attr("value",e),$("#project-id-modal-input").attr("value",a),$("#project-teamId-modal-input").attr("value",t),$("#myProjectModal").show(),saveState(getTeams()),event.preventDefault()}function getThemes(){let n=[];return $(".theme").each(function(t,e){let o=[],c=[];var a={Id:$(e).find(".theme-id").first().val(),Name:$(e).find(".theme-name").first().val(),Image:""};$(e).find(".tag-checkbox").each(function(t,e){var a=$(e).find(".tag-checkbox-id").first().val(),n=$(e).find(".tag-checkbox-name").first().val(),e={TagId:a,Name:n,CheckedState:$(e).find(".tag-checkbox-state").first().is(":checked")};o.push(e);a={Text:n,Value:a};c.push(a)});a={Theme:a,TagCheckboxes:o,TagSelectList:c};n.push(a)}),console.log(n),n}function saveState(t){let e=JSON.stringify(t);$.ajax({type:"POST",url:"/Theme/SaveThemesState",traditional:!0,data:e,contentType:"application/json; charset=utf-8",dataType:"json"})}function populateTagNameField(t){let e=parseInt(t.find(":selected").attr("value"));"newTag"==e&&(e=null),$.ajax({type:"GET",url:"/Tag/GetTagName",data:{id:e},contentType:"application/json; charset=utf-8",success:function(t){"newTag"==t?($("#tag-name-input").val(""),$("#tag-submit-button").val("Add"),$("#tag-delete-button").hide(),$("#tag-delete-button").prop("disabled",!0)):($("#tag-name-input").val(t),$("#tag-submit-button").val("Update"),$("#tag-delete-button").show(),$("#tag-delete-button").prop("disabled",!1)),$("#tag-name-input").show(),$("#tag-submit-button").show(),$("#tag-submit-button").prop("disabled",!1)},error:function(t){console.log(t),alert("An error occurred!!!")}})}function updateTags(t){let e=t.closest(".modal-content").find("#tag-select-dropdown").first().find(":selected").attr("value");e="newTag"==e?0:parseInt(e);var a=t.closest(".modal-content").find("#tag-name-input").first().val(),t=t.val();$("#tag-select-dropdown").val(0),$("#tag-name-input").val(""),$.ajax({type:"GET",url:"/Tag/UpdateTag",data:{id:e,tagName:a,actionName:t},contentType:"application/json; charset=utf-8",success:function(e){var a=$("#tag-select-dropdown");$("#tag-select-dropdown option:gt(1)").remove();for(let t=0;t<e.length;t++)a.append($("<option></option>").attr("value",e[t].id).text(e[t].name))},error:function(t){console.log(t),alert("An error occurred!!!")}})}function updateThemeTags(){$.ajax({type:"GET",url:"/Theme/UpdateThemeTags",contentType:"application/json; charset=utf-8",success:function(t){window.location.replace("../theme?redirect=True")},error:function(t){console.log(t),alert("An error occurred!!!")}})}$(document).ready(function(){$(".projectModalClose").click(function(){$("#myProjectModal").hide()}),$(".addProjectModalBtn").click(function(){$("#project-delete-button").hide().prop("disabled",!0),$("#project-submit-button").val("Add");var t=$(this).closest(".team").find(".team-id").first().val();$("#project-teamId-modal-input").attr("value",t),$("#project-id-modal-input").attr("value",0),$("#project-name-modal-input").attr("value",""),$("#myProjectModal").show(),saveState(getTeams())}),$(".project-modal-btn").click(function(){console.log("th"),updateProjects($(this))})}),$(document).ready(function(){const t=JSON.stringify({searchText:searchText="*",teams:teams=["*"],projects:projects=["*"],tags:tags=["item 10"],startDate:startDate="*",endDate:endDate="*"});$("#filters input:not(#text-search), #filters select").change(function(){alert("Handler for .change() called.")}),$("#filters #text-search").keypress(function(){$.ajax({type:"GET",url:"/Item/GetFilteredItems",data:{itemQueryJson:t},success:function(t){console.log(t)},error:function(){alert("Error occured!!")}})})}),$(document).ready(function(){var e=document.getElementById("myTagModal"),t=document.getElementById("myTagBtn"),a=document.getElementsByClassName("tagModalClose")[0];t.onclick=function(){event.preventDefault(),$("#tag-name-input").hide(),$("#tag-delete-button").hide(),$("#tag-submit-button").hide(),$("#tag-delete-button").prop("disabled",!0),$("#tag-submit-button").prop("disabled",!0),e.style.display="block",saveState(getThemes())},a.onclick=function(){e.style.display="none",$("#tag-name-input").val(""),$("#tag-name-input").hide(),$("#tag-select-dropdown").val(0),$("#tag-delete-button").hide(),$("#tag-submit-button").hide(),$("#tag-delete-button").prop("disabled",!0),$("#tag-submit-button").prop("disabled",!0),updateThemeTags()},window.onclick=function(t){t.target==e&&(e.style.display="none",$("#tag-name-input").val(""),$("#tag-name-input").hide(),$("#tag-select-dropdown").val(0),$("#tag-delete-button").hide(),$("#tag-submit-button").hide(),$("#tag-delete-button").prop("disabled",!0),$("#tag-submit-button").prop("disabled",!0),updateThemeTags())},$("#tag-select-dropdown").change(function(){populateTagNameField($(this))}),$(".tag-modal-btn").click(function(){updateTags($(this))})});